<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="docs.css">
<link rel="stylesheet" type="text/css" href="atom-one-light.css">
<link rel="stylesheet" type="text/css" href="vusion-icon-font.css">
<script src="docs.js"></script>
</head>
<body>

                <article class="u-article"><h1>表单项</h1>
<h2>示例</h2>
<h3>基本形式</h3>
<div id="u-example-0" class="u-example"><u-form-item title="服务名称"><u-input maxlength="24" placeholder="1-24位小写字母、数字或中划线组成" autofocus></u-input></u-form-item></div>
<pre class="hljs lang-html"><code><span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"服务名称"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"1-24位小写字母、数字或中划线组成"</span> <span class="hljs-attr">autofocus</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
</code></pre>
<h2>表单验证</h2>
<h3>规则列表</h3>
<p>每个表单项的验证行为用一个有序列表<code>rules</code>来声明，列表中包含若干条验证规则。结构如下：</p>
<div id="u-example-1" class="u-example">[{ type: 'string', required: true, ... }, { type: 'string', min: ... }, { type: 'string', pattern: ... }, ...]</div>
<pre class="hljs lang-javascript"><code>[{ <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, ... }, { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: ... }, { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: ... }, ...]
</code></pre>
<p>每条规则至少包含以下几个参数：</p>
<ul>
<li><code>type</code>：数据类型</li>
<li><code>trigger</code>：触发方式</li>
<li><code>message</code>：验证不通过时的消息提示</li>
<li>...</li>
</ul>
<p>下面举个例子，一个用户名输入框的验证包含以下规则：</p>
<ol>
<li>必须输入用户名，失焦验证</li>
<li>以字母开头，实时验证</li>
<li>字母、数字或中划线组成，实时验证</li>
<li>以字母或数字结尾，失焦验证</li>
<li>4~12个字符，失焦验证</li>
</ol>
<div id="u-example-2" class="u-example"><u-form-item title="用户名" :rules="rules"><u-input maxlength="112" placeholder="4~12位字母、数字或中划线组成"></u-input></u-form-item></div>
<pre class="hljs lang-vue"><code><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-form-item</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"用户名"</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">"rules"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-input</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"112"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"4~12位字母、数字或中划线组成"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-input</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-form-item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">rules</span>: [
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'请输入用户名'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[a-zA-Z]/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'以字母开头'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[a-zA-Z0-9-]+$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'input+blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'字母、数字或中划线组成'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/[a-zA-Z0-9]$/</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'以字母或数字结尾'</span> },
                { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">'blur'</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'不得少于4个字符'</span> },
            ],
        };
    },
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3>数据类型</h3>
<ul>
<li><code>string</code>: Must be of type string. This is the default type.</li>
<li><code>number</code>: Must be of type number.</li>
<li><code>boolean</code>: Must be of type boolean.</li>
<li><code>method</code>: Must be of type function.</li>
<li><code>regexp</code>: Must be an instance of RegExp or a string that does not generate an exception when creating a new RegExp.</li>
<li><code>integer</code>: Must be of type number and an integer.</li>
<li><code>float</code>: Must be of type number and a floating point number.</li>
<li><code>array</code>: Must be an array as determined by Array.isArray.</li>
<li><code>object</code>: Must be of type object and not Array.isArray.</li>
<li><code>enum</code>: Value must exist in the enum.</li>
<li><code>date</code>: Value must be valid as determined by Date</li>
<li><code>url</code>: Must be of type url.</li>
<li><code>hex</code>: Must be of type hex.</li>
<li><code>email</code>: Must be of type email.</li>
</ul>
<p>其它请参见<a href="https://github.com/yiminghe/async-validator">async-validator</a>。</p>
</article>
                <!---->
                <script>new Vue().$mount('#u-example-0');
new Vue().$mount('#u-example-1');
new Vue({
    data() {
        return {
            rules: [
                { type: 'string', required: true, trigger: 'blur', message: '请输入用户名' },
                { type: 'string', pattern: /^[a-zA-Z]/, trigger: 'input+blur', message: '以字母开头' },
                { type: 'string', pattern: /^[a-zA-Z0-9-]+$/, trigger: 'input+blur', message: '字母、数字或中划线组成' },
                { type: 'string', pattern: /[a-zA-Z0-9]$/, trigger: 'blur', message: '以字母或数字结尾' },
                { type: 'string', min: 4, trigger: 'blur', message: '不得少于4个字符' },
            ],
        };
    },
}).$mount('#u-example-2');</script>
            
</body>
</html>
